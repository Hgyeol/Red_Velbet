openapi: 3.0.3
info:
  title: 배팅 사이트 API
  description: 배팅 사이트 API 명세서
  version: 1.0.0
  contact:
    email: dev@betting-site.com

servers:
  - url: http://localhost:8000/api/v1
    description: 개발 환경
  - url: https://api.betting-site.com/api/v1
    description: 프로덕션 환경

tags:
  - name: Authentication
    description: 인증 관련 API
  - name: Users
    description: 사용자 관련 API
  - name: Leagues
    description: 리그 관련 API
  - name: Games
    description: 경기 관련 API
  - name: Favorites
    description: 즐겨찾기 관련 API
  - name: Betting
    description: 배팅 관련 API
  - name: Wallet
    description: 지갑 관련 API

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

  schemas:
    Error:
      type: object
      properties:
        success:
          type: boolean
          example: false
        error:
          type: object
          properties:
            code:
              type: string
            message:
              type: string
            details:
              type: object

    User:
      type: object
      properties:
        user_id:
          type: string
          format: uuid
        username:
          type: string
        email:
          type: string
          format: email
        nickname:
          type: string
        role:
          type: string
          enum: [user, admin]
        daily_limit:
          type: integer
        today_total_bet:
          type: integer
        last_bet_date:
          type: string
          format: date
        is_active:
          type: boolean
        is_restricted:
          type: boolean
        created_at:
          type: string
          format: date-time

    League:
      type: object
      properties:
        league_id:
          type: string
          format: uuid
        league_name:
          type: string
        sport_type:
          type: string
          enum: [축구, 야구, 농구, 배구]
        country:
          type: string
        is_active:
          type: boolean
        created_at:
          type: string
          format: date-time

    BettingOption:
      type: object
      properties:
        option_id:
          type: string
          format: uuid
        option_type:
          type: string
          enum: [승무패, 핸디캡, 언오버, 승자예상]
        option_name:
          type: string
        odds:
          type: number
          format: float
        handicap_value:
          type: number
          format: float
        over_under_line:
          type: number
          format: float

    Game:
      type: object
      properties:
        game_id:
          type: string
          format: uuid
        league:
          type: object
          properties:
            league_id:
              type: string
              format: uuid
            league_name:
              type: string
        sport_type:
          type: string
        home_team:
          type: string
        away_team:
          type: string
        start_time:
          type: string
          format: date-time
        status:
          type: string
          enum: [예정, 라이브, 종료, 마감]
        betting_deadline:
          type: string
          format: date-time
        is_live:
          type: boolean
        final_score_home:
          type: integer
          nullable: true
        final_score_away:
          type: integer
          nullable: true
        current_score_home:
          type: integer
        current_score_away:
          type: integer
        match_time:
          type: string
        betting_options:
          type: array
          items:
            $ref: '#/components/schemas/BettingOption'

    Bet:
      type: object
      properties:
        bet_id:
          type: string
          format: uuid
        bet_type:
          type: string
          enum: [단일, 조합]
        total_amount:
          type: integer
        total_odds:
          type: number
          format: float
        potential_return:
          type: number
        status:
          type: string
          enum: [대기, 적중, 미적중, 취소]
        slip_count:
          type: integer
        created_at:
          type: string
          format: date-time

    BetSlip:
      type: object
      properties:
        slip_id:
          type: string
          format: uuid
        game:
          type: object
        option:
          $ref: '#/components/schemas/BettingOption'
        result:
          type: string
          enum: [대기, 적중, 미적중]

    Transaction:
      type: object
      properties:
        transaction_id:
          type: string
          format: uuid
        wallet_id:
          type: string
          format: uuid
        transaction_type:
          type: string
          enum: [충전, 출금, 배팅, 환급]
        amount:
          type: number
        balance_after:
          type: number
        payment_method:
          type: string
        bank_account:
          type: string
        created_at:
          type: string
          format: date-time

    Pagination:
      type: object
      properties:
        page:
          type: integer
        limit:
          type: integer
        total:
          type: integer
        total_pages:
          type: integer

paths:
  /auth/register:
    post:
      tags:
        - Authentication
      summary: 회원가입
      description: 사용자 계정을 생성합니다.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - username
                - password
                - email
                - nickname
              properties:
                username:
                  type: string
                  minLength: 4
                  maxLength: 50
                  pattern: '^[a-zA-Z0-9]+$'
                  example: user123
                password:
                  type: string
                  minLength: 8
                  example: password123!
                email:
                  type: string
                  format: email
                  example: user@example.com
                nickname:
                  type: string
                  minLength: 2
                  maxLength: 50
                  example: 닉네임
      responses:
        '201':
          description: 회원가입 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      user:
                        $ref: '#/components/schemas/User'
        '409':
          description: 이미 존재하는 사용자
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /auth/login:
    post:
      tags:
        - Authentication
      summary: 로그인
      description: 사용자 인증 후 토큰을 발급받습니다.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - username
                - password
              properties:
                username:
                  type: string
                  example: user123
                password:
                  type: string
                  example: password123!
      responses:
        '200':
          description: 로그인 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      access_token:
                        type: string
                        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
                      refresh_token:
                        type: string
                        format: uuid
                      token_type:
                        type: string
                        example: Bearer
                      expires_in:
                        type: integer
                        example: 900
                      user:
                        $ref: '#/components/schemas/User'
        '401':
          description: 인증 실패
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /auth/refresh:
    post:
      tags:
        - Authentication
      summary: 토큰 갱신
      description: 만료된 Access Token을 Refresh Token으로 갱신합니다.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - refresh_token
              properties:
                refresh_token:
                  type: string
                  format: uuid
      responses:
        '200':
          description: 토큰 갱신 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      access_token:
                        type: string
                      token_type:
                        type: string
                        example: Bearer
                      expires_in:
                        type: integer
                        example: 900

  /auth/logout:
    post:
      tags:
        - Authentication
      summary: 로그아웃
      description: 현재 세션을 종료합니다.
      security:
        - bearerAuth: []
      responses:
        '200':
          description: 로그아웃 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      message:
                        type: string
                        example: 로그아웃되었습니다

  /auth/password:
    put:
      tags:
        - Authentication
      summary: 비밀번호 변경
      description: 현재 사용자의 비밀번호를 변경합니다.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - current_password
                - new_password
              properties:
                current_password:
                  type: string
                  example: oldpass123!
                new_password:
                  type: string
                  example: newpass123!
      responses:
        '200':
          description: 비밀번호 변경 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      message:
                        type: string
                        example: 비밀번호가 변경되었습니다

  /users/me:
    get:
      tags:
        - Users
      summary: 내 프로필 조회
      description: 현재 로그인한 사용자의 프로필을 조회합니다.
      security:
        - bearerAuth: []
      responses:
        '200':
          description: 프로필 조회 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/User'

    patch:
      tags:
        - Users
      summary: 프로필 수정
      description: 현재 사용자의 프로필 정보를 수정합니다.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                nickname:
                  type: string
                  example: 새닉네임
                email:
                  type: string
                  format: email
                  example: newemail@example.com
      responses:
        '200':
          description: 프로필 수정 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/User'

  /users/me/daily-limit:
    get:
      tags:
        - Users
      summary: 일일 배팅 한도 조회
      description: 현재 사용자의 일일 배팅 한도 정보를 조회합니다.
      security:
        - bearerAuth: []
      responses:
        '200':
          description: 일일 한도 조회 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      daily_limit:
                        type: integer
                        example: 100000
                      today_total_bet:
                        type: integer
                        example: 35000
                      remaining_limit:
                        type: integer
                        example: 65000
                      last_bet_date:
                        type: string
                        format: date
                        example: '2024-01-15'

    put:
      tags:
        - Users
      summary: 일일 배팅 한도 설정
      description: 일일 배팅 한도를 설정합니다.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - daily_limit
              properties:
                daily_limit:
                  type: integer
                  minimum: 10000
                  maximum: 1000000
                  example: 50000
      responses:
        '200':
          description: 일일 한도 설정 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      daily_limit:
                        type: integer
                        example: 50000
                      message:
                        type: string
                        example: 일일 배팅 한도가 변경되었습니다

  /users/me/restriction:
    post:
      tags:
        - Users
      summary: 자가 제한 설정
      description: 사용자가 스스로 배팅을 제한합니다.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                restriction_type:
                  type: string
                  example: 휴식기간
                duration_days:
                  type: integer
                  example: 30
      responses:
        '200':
          description: 자가 제한 설정 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      is_restricted:
                        type: boolean
                        example: true
                      restriction_end_date:
                        type: string
                        format: date
                        example: '2024-02-15'
                      message:
                        type: string
                        example: 자가 제한이 설정되었습니다

  /leagues:
    get:
      tags:
        - Leagues
      summary: 리그 목록 조회
      description: 모든 리그 목록을 조회합니다.
      parameters:
        - name: sport_type
          in: query
          schema:
            type: string
            enum: [축구, 야구, 농구, 배구]
        - name: is_active
          in: query
          schema:
            type: boolean
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 20
            maximum: 100
      responses:
        '200':
          description: 리그 목록 조회 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/League'
                      pagination:
                        $ref: '#/components/schemas/Pagination'

  /games/available:
    get:
      tags:
        - Games
      summary: 구매 가능 경기 목록
      description: 배팅 가능한 경기 목록을 조회합니다.
      parameters:
        - name: sport_type
          in: query
          schema:
            type: string
            enum: [축구, 야구, 농구, 배구]
        - name: league_id
          in: query
          schema:
            type: string
            format: uuid
        - name: bet_type
          in: query
          schema:
            type: string
            enum: [승무패, 핸디캡, 언오버, 승자예상]
        - name: date
          in: query
          schema:
            type: string
            format: date
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 20
      responses:
        '200':
          description: 구매 가능 경기 목록 조회 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Game'
                      pagination:
                        $ref: '#/components/schemas/Pagination'

  /games/closed:
    get:
      tags:
        - Games
      summary: 마감 경기 목록
      description: 배팅이 마감된 경기 목록을 조회합니다.
      parameters:
        - name: sport_type
          in: query
          schema:
            type: string
            enum: [축구, 야구, 농구, 배구]
        - name: league_id
          in: query
          schema:
            type: string
            format: uuid
        - name: date
          in: query
          schema:
            type: string
            format: date
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 20
      responses:
        '200':
          description: 마감 경기 목록 조회 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Game'
                      pagination:
                        $ref: '#/components/schemas/Pagination'

  /games/{game_id}:
    get:
      tags:
        - Games
      summary: 경기 상세 정보
      description: 특정 경기의 상세 정보를 조회합니다.
      parameters:
        - name: game_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 경기 상세 정보 조회 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Game'

  /games/live:
    get:
      tags:
        - Games
      summary: 실시간 경기 목록
      description: 현재 진행 중인 경기 목록을 조회합니다.
      parameters:
        - name: sport_type
          in: query
          schema:
            type: string
            enum: [축구, 야구, 농구, 배구]
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 20
      responses:
        '200':
          description: 실시간 경기 목록 조회 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Game'
                      pagination:
                        $ref: '#/components/schemas/Pagination'

  /games/favorites:
    get:
      tags:
        - Games
      summary: 즐겨찾기 경기 조회
      description: 사용자가 즐겨찾기한 경기 목록을 조회합니다.
      security:
        - bearerAuth: []
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 20
      responses:
        '200':
          description: 즐겨찾기 경기 조회 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            favorite_id:
                              type: string
                              format: uuid
                            game:
                              $ref: '#/components/schemas/Game'
                            created_at:
                              type: string
                              format: date-time
                      pagination:
                        $ref: '#/components/schemas/Pagination'

  /favorites:
    get:
      tags:
        - Favorites
      summary: 즐겨찾기 목록
      description: 즐겨찾기한 경기 목록을 조회합니다.
      security:
        - bearerAuth: []
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 20
      responses:
        '200':
          description: 즐겨찾기 목록 조회 성공

    post:
      tags:
        - Favorites
      summary: 즐겨찾기 추가
      description: 경기를 즐겨찾기에 추가합니다.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - game_id
              properties:
                game_id:
                  type: string
                  format: uuid
      responses:
        '201':
          description: 즐겨찾기 추가 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      favorite_id:
                        type: string
                        format: uuid
                      game_id:
                        type: string
                        format: uuid
                      created_at:
                        type: string
                        format: date-time

  /favorites/{game_id}:
    delete:
      tags:
        - Favorites
      summary: 즐겨찾기 삭제
      description: 즐겨찾기에서 경기를 제거합니다.
      security:
        - bearerAuth: []
      parameters:
        - name: game_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 즐겨찾기 삭제 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      message:
                        type: string
                        example: 즐겨찾기에서 제거되었습니다

  /bets:
    get:
      tags:
        - Betting
      summary: 배팅 내역 조회
      description: 사용자의 배팅 내역을 조회합니다.
      security:
        - bearerAuth: []
      parameters:
        - name: status
          in: query
          schema:
            type: string
            enum: [대기, 적중, 미적중, 취소]
        - name: start_date
          in: query
          schema:
            type: string
            format: date
        - name: end_date
          in: query
          schema:
            type: string
            format: date
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 20
      responses:
        '200':
          description: 배팅 내역 조회 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Bet'
                      pagination:
                        $ref: '#/components/schemas/Pagination'

    post:
      tags:
        - Betting
      summary: 배팅 생성
      description: 새로운 배팅을 생성합니다.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - bet_type
                - amount
                - selections
              properties:
                bet_type:
                  type: string
                  enum: [single, combo]
                  description: 'single: 단일 배팅, combo: 조합 배팅'
                amount:
                  type: integer
                  description: 배팅 금액 (원)
                  example: 10000
                selections:
                  type: array
                  items:
                    type: object
                    required:
                      - game_id
                      - option_id
                    properties:
                      game_id:
                        type: string
                        format: uuid
                      option_id:
                        type: string
                        format: uuid
      responses:
        '201':
          description: 배팅 생성 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      bet_id:
                        type: string
                        format: uuid
                      bet_type:
                        type: string
                      total_amount:
                        type: integer
                      total_odds:
                        type: number
                      potential_return:
                        type: number
                      status:
                        type: string
                      bet_slips:
                        type: array
                        items:
                          $ref: '#/components/schemas/BetSlip'
                      created_at:
                        type: string
                        format: date-time
        '400':
          description: 배팅 생성 실패 (잔액 부족, 한도 초과 등)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /bets/{bet_id}:
    get:
      tags:
        - Betting
      summary: 배팅 상세 조회
      description: 특정 배팅의 상세 정보를 조회합니다.
      security:
        - bearerAuth: []
      parameters:
        - name: bet_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 배팅 상세 조회 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      bet_id:
                        type: string
                        format: uuid
                      bet_type:
                        type: string
                      total_amount:
                        type: integer
                      total_odds:
                        type: number
                      potential_return:
                        type: number
                      status:
                        type: string
                      bet_slips:
                        type: array
                        items:
                          $ref: '#/components/schemas/BetSlip'
                      created_at:
                        type: string
                        format: date-time

    delete:
      tags:
        - Betting
      summary: 배팅 취소
      description: 배팅을 취소하고 금액을 환불받습니다. (경기 시작 전, 배팅 생성 후 5분 이내)
      security:
        - bearerAuth: []
      parameters:
        - name: bet_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 배팅 취소 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      bet_id:
                        type: string
                        format: uuid
                      status:
                        type: string
                        example: 취소
                      refunded_amount:
                        type: integer
                      message:
                        type: string
                        example: 배팅이 취소되고 금액이 환불되었습니다
        '400':
          description: 배팅 취소 실패
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /wallet/balance:
    get:
      tags:
        - Wallet
      summary: 잔액 조회
      description: 현재 사용자의 지갑 잔액을 조회합니다.
      security:
        - bearerAuth: []
      responses:
        '200':
          description: 잔액 조회 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      wallet_id:
                        type: string
                        format: uuid
                      balance:
                        type: number
                        example: 85000
                      updated_at:
                        type: string
                        format: date-time

  /wallet/deposit:
    post:
      tags:
        - Wallet
      summary: 충전
      description: 지갑에 금액을 충전합니다.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - amount
                - payment_method
              properties:
                amount:
                  type: integer
                  description: 충전 금액 (원)
                  example: 50000
                payment_method:
                  type: string
                  enum: [card, bank_transfer]
                  example: card
      responses:
        '201':
          description: 충전 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Transaction'

  /wallet/withdraw:
    post:
      tags:
        - Wallet
      summary: 출금
      description: 지갑에서 금액을 출금합니다.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - amount
                - bank_account
              properties:
                amount:
                  type: integer
                  description: 출금 금액 (원)
                  example: 30000
                bank_account:
                  type: string
                  description: 출금 계좌번호
                  example: '110-123-456789'
      responses:
        '201':
          description: 출금 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: '#/components/schemas/Transaction'
        '400':
          description: 출금 실패 (잔액 부족)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /wallet/transactions:
    get:
      tags:
        - Wallet
      summary: 거래 내역
      description: 지갑의 거래 내역을 조회합니다.
      security:
        - bearerAuth: []
      parameters:
        - name: transaction_type
          in: query
          schema:
            type: string
            enum: [충전, 출금, 배팅, 환급]
        - name: start_date
          in: query
          schema:
            type: string
            format: date
        - name: end_date
          in: query
          schema:
            type: string
            format: date
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 20
      responses:
        '200':
          description: 거래 내역 조회 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Transaction'
                      pagination:
                        $ref: '#/components/schemas/Pagination'